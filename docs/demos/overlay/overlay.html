<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Demo</title>
    <link rel="stylesheet" href="../../oph-styles-min.css" />
    <link rel="stylesheet" href="../app.css" />
</head>

<body>

<div class="oph-typography">
    <div class="oph-overlay"></div>

    <button class="oph-button oph-button-primary fixed z6 js-button-toggle-overlay" type="button">Toggle overlay</button>

    <button class="oph-button oph-button-primary mt4" type="button">Action to block</button>
</div>

<script>
const overlay = document.querySelector('.oph-overlay');
const isVisibleClass = 'oph-overlay-is-visible';
const bgClass = 'oph-overlay-bg';

function animate () {
    if (overlay.classList.contains(isVisibleClass)) {
        // Remove the background first when closing the overlay
        overlay.classList.remove(bgClass);

        // Hide the overlay after the animation is done
        setTimeout(() => {
            overlay.classList.remove(isVisibleClass);
        }, 300)
    } else {
        // Display the overlay first
        overlay.classList.add(isVisibleClass);

        // Set the background after timeout for the animation to run properly
        setTimeout(() => {
            overlay.classList.add(bgClass);
        }, 0);
    }
}

document.querySelector('.js-button-toggle-overlay').addEventListener('click', animate);
</script>
</body>

</html>
